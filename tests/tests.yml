tests:
  - name: Interfaces(1)
    idl: |
         [Constructor]
         interface GraphicalWindow {
           readonly attribute unsigned long width;
           readonly attribute unsigned long height;

           attribute Paint currentPaint;

           void drawRectangle(float x, float y, float width, float height);

           void drawText(float x, float y, DOMString text);
         };
    expected:
      - definition: interface
        name: GraphicalWindow
        inherits: null
        attributes:
          - Constructor
        members:
          - memberType: attribute
            name: width
            type: &unsignedLong
              name: unsigned long
              suffix: &emptySuffix
                array: false
                nullable: false
            readOnly: true
            inherit: false
          - memberType: attribute
            name: height
            type: *unsignedLong
            readOnly: true
            inherit: false
          - memberType: attribute
            name: currentPaint
            type:
              name: Paint
              suffix: *emptySuffix
            readOnly: false
            inherit: false
          - memberType: operation
            name: drawRectangle
            arguments:
              - type: &float
                  name: float
                  suffix: *emptySuffix
                name: x
              - type: *float
                name: y
              - type: *float
                name: width
              - type: *float
                name: height
            returnType: null
          - memberType: operation
            name: drawText
            arguments:
              - type: *float
                name: x
              - type: *float
                name: y
              - type: &DOMString
                  name: DOMString
                  suffix: *emptySuffix
                name: text
            returnType: null
  - name: Interfaces(2)
    idl: |
         exception GraphicsException {
           DOMString reason;
         };

         interface Paint { };

         interface SolidColor : Paint {
           attribute float red;
           attribute float green;
           attribute float blue;
         };
    expected:
      - definition: exception
        name: GraphicsException
        inherits: null
        attributes: []
        members:
          - {type: *DOMString, name: reason}
      - definition: interface
        name: Paint
        inherits: null
        attributes: []
        members: []
      - definition: interface
        name: SolidColor
        inherits: Paint
        attributes: []
        members:
          - memberType: attribute
            type: *float
            name: red
            readOnly: false
            inherit: false
          - memberType: attribute
            type: *float
            name: green
            readOnly: false
            inherit: false
          - memberType: attribute
            type: *float
            name: blue
            readOnly: false
            inherit: false
  - name: typedef
    idl: |
         typedef long[] ArrayOfLongs;
    expected:
      - definition: typedef
        type:
            name: long
            suffix:
              array: true
              nullable: false
        name: ArrayOfLongs
        attributes: []
  - name: Using typedef
    idl: |
         interface B : A {
           void f(ArrayOfLongs x);
         };
    expected:
      - definition: interface
        name: B
        inherits: A
        members:
          - memberType: operation
            name: f
            returnType: null
            arguments:
              - name: x
                type:
                  name: ArrayOfLongs
                  suffix: *emptySuffix
        attributes: []

